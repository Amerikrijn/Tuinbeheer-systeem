Attempt failed:
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

PASS __tests__/unit/lib/validation/index.test.ts
PASS __tests__/unit/lib/design-tokens.test.ts
PASS __tests__/unit/lib/types/tasks.test.ts
PASS __tests__/unit/lib/security/garden-access.test.ts
PASS __tests__/unit/lib/full-translations.test.ts
PASS __tests__/unit/lib/types/index.test.ts
PASS __tests__/unit/components/ui/select.test.tsx
PASS __tests__/unit/lib/services/simple-services.test.ts
PASS __tests__/unit/components/ui/textarea.test.tsx
PASS __tests__/unit/components/ui/toast.test.tsx
PASS __tests__/unit/lib/simple-lib.test.ts
PASS __tests__/unit/components/ui/table.test.tsx
PASS __tests__/unit/components/ui/tabs.test.tsx
PASS __tests__/unit/components/ui/tooltip.test.tsx
PASS __tests__/unit/app/simple-app.test.tsx
PASS __tests__/unit/app/real-app-imports.test.tsx
PASS __tests__/unit/lib/dutch-flowers.test.ts
PASS __tests__/unit/components/ui/simple-pages.test.tsx
PASS __tests__/unit/components/ui/label.test.tsx
PASS __tests__/unit/components/ui/avatar.test.tsx
PASS __tests__/unit/components/ui/scroll-area.test.tsx
PASS __tests__/unit/components/ui/hover-card.test.tsx
PASS __tests__/unit/components/ui/accordion.test.tsx
PASS __tests__/unit/components/ui/radio-group.test.tsx
PASS __tests__/unit/components/loading-skeleton.test.tsx
PASS __tests__/unit/components/ui/popover.test.tsx
PASS __tests__/unit/lib/storage.test.ts
PASS __tests__/unit/components/ui/input.test.tsx
PASS __tests__/unit/lib/translations.test.ts
PASS __tests__/unit/components/language-switcher.test.tsx
PASS __tests__/unit/components/ui/dialog.test.tsx
PASS __tests__/unit/components/ui/checkbox.test.tsx
PASS __tests__/unit/components/ui/card.test.tsx
PASS __tests__/unit/components/ui/resizable.test.tsx
PASS __tests__/unit/components/ui/progress.test.tsx
PASS __tests__/unit/components/ui/separator.test.tsx
PASS __tests__/unit/lib/password-change-manager.test.ts
PASS __tests__/unit/components/ui/toggle-group.test.tsx
PASS __tests__/unit/lib/utils/task-sorting.test.ts
PASS __tests__/unit/lib/errors.test.ts
PASS __tests__/unit/app/not-found.test.tsx
PASS __tests__/unit/components/ui/collapsible.test.tsx
PASS __tests__/components/ui/button.test.tsx
PASS __tests__/unit/lib/banking-security.test.ts
  ‚óè Console

    console.error
      Security event logging failed: Database error

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at error (lib/banking-security.ts:36:15)
      at Object.<anonymous> (__tests__/unit/lib/banking-security.test.ts:46:7)

PASS __tests__/unit/components/ui/alert.test.tsx
PASS __tests__/unit/components/ui/slider.test.tsx
PASS __tests__/unit/components/ui/button.test.tsx
PASS __tests__/unit/lib/types.test.ts
PASS __tests__/unit/components/ui/use-mobile.test.tsx
PASS __tests__/unit/components/ui/toggle.test.tsx
PASS __tests__/unit/app/loading.test.tsx
PASS __tests__/unit/lib/validation.test.ts
PASS __tests__/unit/components/ui/loading.test.tsx
PASS __tests__/unit/components/ui/switch.test.tsx
PASS __tests__/unit/api/status.test.ts
PASS __tests__/unit/api/storage-ensure-bucket-simple.test.ts
PASS __tests__/unit/components/ui/badge.test.tsx
PASS __tests__/unit/lib/utils.test.ts
PASS __tests__/unit/components/ui/error.test.tsx
PASS __tests__/unit/app/real-app.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      The above error occurred in the <SupabaseAuthProvider> component:
      
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:13:40)
          at children (C:\Users\ameri\Tuinbeheer-systeem\hooks\use-language.ts:26:36)
          at X (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1591)
          at F (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1472)
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\theme-provider.tsx:9:33)
          at ErrorBoundary (C:\Users\ameri\Tuinbeheer-systeem\components\error-boundary.tsx:21:5)
          at body
          at html
          at children (C:\Users\ameri\Tuinbeheer-systeem\app\layout.tsx:27:3)
      
      React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at ErrorBoundary.callback (node_modules/react-dom/cjs/react-dom.development.js:18772:7)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23403:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

PASS __tests__/unit/components/ui/aspect-ratio.test.tsx
PASS __tests__/unit/components/theme-provider.test.tsx
PASS __tests__/integration/api/plant-beds.test.ts
PASS __tests__/unit/api/gardens-simple.test.ts
PASS __tests__/integration/api/health.test.ts
PASS __tests__/unit/components/ui/skeleton.test.tsx
PASS __tests__/integration/api/version.test.ts
PASS __tests__/integration/api/status.test.ts
PASS __tests__/unit/api/plant-beds-simple.test.ts
PASS __tests__/setup/supabase-mock.ts
PASS __tests__/unit/components/real-components.test.tsx (6.299 s)
  ‚óè Console

    console.log
      {"timestamp":"2025-08-16T11:56:36.519Z","level":"DEBUG","message":"Database connection validated successfully","context":{"attempt":1}}

      at Logger.log (lib/logger.ts:74:17)

    console.info
      {"timestamp":"2025-08-16T11:56:36.593Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345396514","operationName":"logbook-getPlantPhotos","durationMs":79,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T11:56:36.595Z","level":"ERROR","message":"Unexpected error in LogbookService.getPlantPhotos","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1013:22)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T11:56:36.598Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1014:14)
      at components/plant-photo-gallery.tsx:40:22

PASS __tests__/unit/components/ui/simple-components.test.tsx
PASS __tests__/unit/components/navigation.test.tsx
PASS __tests__/unit/components/simple-components.test.tsx
  ‚óè Console

    console.error
      {"timestamp":"2025-08-16T11:56:36.727Z","level":"ERROR","message":"Unable to connect to database","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:73:24)
      at Function.validateConnection [as getPlantPhotos] (lib/services/database.service.ts:918:13)
      at getPlantPhotos (components/plant-photo-gallery.tsx:40:43)
      at loadPlantPhotos (components/plant-photo-gallery.tsx:57:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/components/simple-components.test.tsx:48:11)

    console.info
      {"timestamp":"2025-08-16T11:56:36.760Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345396726","operationName":"logbook-getPlantPhotos","durationMs":34,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T11:56:36.760Z","level":"ERROR","message":"Database error in LogbookService.getPlantPhotos","context":{"code":"CONNECTION_ERROR","details":{},"name":"DatabaseError"}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1005:24)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T11:56:36.760Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1006:16)
      at components/plant-photo-gallery.tsx:40:22

FAIL __tests__/integration/api/gardens.test.ts (82.544 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

Jest: "global" coverage threshold for statements (60%) not met: 20.9%
Jest: "global" coverage threshold for branches (60%) not met: 13.21%
Jest: "global" coverage threshold for lines (60%) not met: 20.76%
Jest: "global" coverage threshold for functions (60%) not met: 13.93%
Summary of all failing tests
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

FAIL __tests__/integration/api/gardens.test.ts (82.544 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)


Test Suites: 3 failed, 13 skipped, 74 passed, 77 of 90 total
Tests:       6 failed, 197 skipped, 973 passed, 1176 total
Snapshots:   0 total
Time:        87.583 s
Ran all test suites.

Attempt failed:
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

PASS __tests__/unit/components/ui/input.test.tsx
PASS __tests__/unit/components/ui/tooltip.test.tsx
PASS __tests__/unit/components/ui/table.test.tsx
PASS __tests__/unit/components/ui/toast.test.tsx
PASS __tests__/unit/components/ui/tabs.test.tsx
PASS __tests__/unit/components/ui/textarea.test.tsx
PASS __tests__/unit/components/ui/simple-pages.test.tsx
PASS __tests__/unit/app/real-app-imports.test.tsx
PASS __tests__/unit/components/ui/select.test.tsx
PASS __tests__/unit/components/ui/popover.test.tsx
PASS __tests__/unit/components/ui/dialog.test.tsx
PASS __tests__/unit/app/simple-app.test.tsx
PASS __tests__/unit/components/ui/label.test.tsx
PASS __tests__/unit/components/ui/checkbox.test.tsx
PASS __tests__/unit/components/navigation.test.tsx
PASS __tests__/unit/components/language-switcher.test.tsx
PASS __tests__/unit/app/not-found.test.tsx
PASS __tests__/unit/components/ui/hover-card.test.tsx
PASS __tests__/unit/components/ui/accordion.test.tsx
PASS __tests__/unit/components/ui/resizable.test.tsx
PASS __tests__/unit/lib/storage.test.ts
PASS __tests__/unit/components/ui/scroll-area.test.tsx
PASS __tests__/unit/components/ui/radio-group.test.tsx
PASS __tests__/unit/lib/dutch-flowers.test.ts
PASS __tests__/unit/app/loading.test.tsx
PASS __tests__/unit/components/ui/slider.test.tsx
PASS __tests__/unit/app/real-app.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      The above error occurred in the <SupabaseAuthProvider> component:
      
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:13:40)
          at children (C:\Users\ameri\Tuinbeheer-systeem\hooks\use-language.ts:26:36)
          at X (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1591)
          at F (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1472)
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\theme-provider.tsx:9:33)
          at ErrorBoundary (C:\Users\ameri\Tuinbeheer-systeem\components\error-boundary.tsx:21:5)
          at body
          at html
          at children (C:\Users\ameri\Tuinbeheer-systeem\app\layout.tsx:27:3)
      
      React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at ErrorBoundary.callback (node_modules/react-dom/cjs/react-dom.development.js:18772:7)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23403:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

PASS __tests__/unit/lib/validation/index.test.ts
PASS __tests__/unit/components/loading-skeleton.test.tsx
PASS __tests__/components/ui/button.test.tsx
PASS __tests__/unit/components/ui/collapsible.test.tsx
PASS __tests__/unit/components/ui/card.test.tsx
PASS __tests__/unit/lib/simple-lib.test.ts
PASS __tests__/unit/lib/types/tasks.test.ts
PASS __tests__/unit/lib/full-translations.test.ts
PASS __tests__/unit/components/ui/avatar.test.tsx
PASS __tests__/unit/components/ui/toggle-group.test.tsx
PASS __tests__/unit/components/ui/alert.test.tsx
PASS __tests__/unit/components/theme-provider.test.tsx
PASS __tests__/unit/lib/security/garden-access.test.ts
PASS __tests__/unit/components/ui/button.test.tsx
PASS __tests__/unit/components/ui/use-mobile.test.tsx
PASS __tests__/unit/lib/utils/task-sorting.test.ts
PASS __tests__/unit/lib/validation.test.ts
PASS __tests__/unit/components/ui/toggle.test.tsx
PASS __tests__/unit/components/ui/separator.test.tsx
PASS __tests__/unit/lib/password-change-manager.test.ts
PASS __tests__/unit/components/ui/switch.test.tsx
PASS __tests__/unit/components/ui/progress.test.tsx
PASS __tests__/unit/lib/design-tokens.test.ts
PASS __tests__/unit/components/ui/skeleton.test.tsx
PASS __tests__/unit/components/ui/badge.test.tsx
PASS __tests__/unit/components/ui/loading.test.tsx
PASS __tests__/unit/lib/translations.test.ts
PASS __tests__/unit/lib/services/simple-services.test.ts
PASS __tests__/unit/lib/banking-security.test.ts
  ‚óè Console

    console.error
      Security event logging failed: Database error

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at error (lib/banking-security.ts:36:15)
      at Object.<anonymous> (__tests__/unit/lib/banking-security.test.ts:46:7)

PASS __tests__/unit/components/ui/simple-components.test.tsx
PASS __tests__/unit/components/ui/aspect-ratio.test.tsx
PASS __tests__/unit/lib/errors.test.ts
PASS __tests__/unit/api/plant-beds-simple.test.ts
PASS __tests__/unit/lib/types/index.test.ts
PASS __tests__/unit/components/ui/error.test.tsx
PASS __tests__/integration/api/plant-beds.test.ts
PASS __tests__/unit/api/status.test.ts
PASS __tests__/integration/api/status.test.ts
PASS __tests__/unit/api/gardens-simple.test.ts
PASS __tests__/unit/lib/utils.test.ts
PASS __tests__/unit/lib/types.test.ts
PASS __tests__/integration/api/version.test.ts
PASS __tests__/setup/supabase-mock.ts
PASS __tests__/unit/api/storage-ensure-bucket-simple.test.ts
PASS __tests__/unit/components/real-components.test.tsx (5.719 s)
  ‚óè Console

    console.log
      {"timestamp":"2025-08-16T11:58:04.854Z","level":"DEBUG","message":"Database connection validated successfully","context":{"attempt":1}}

      at Logger.log (lib/logger.ts:74:17)

    console.info
      {"timestamp":"2025-08-16T11:58:04.914Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345484851","operationName":"logbook-getPlantPhotos","durationMs":63,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T11:58:04.915Z","level":"ERROR","message":"Unexpected error in LogbookService.getPlantPhotos","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1013:22)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T11:58:04.917Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1014:14)
      at components/plant-photo-gallery.tsx:40:22

PASS __tests__/integration/api/health.test.ts
PASS __tests__/unit/components/simple-components.test.tsx (5.73 s)
  ‚óè Console

    console.error
      {"timestamp":"2025-08-16T11:58:04.832Z","level":"ERROR","message":"Unable to connect to database","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:73:24)
      at Function.validateConnection [as getPlantPhotos] (lib/services/database.service.ts:918:13)
      at getPlantPhotos (components/plant-photo-gallery.tsx:40:43)
      at loadPlantPhotos (components/plant-photo-gallery.tsx:57:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/components/simple-components.test.tsx:48:11)

    console.info
      {"timestamp":"2025-08-16T11:58:04.894Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345484830","operationName":"logbook-getPlantPhotos","durationMs":64,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T11:58:04.895Z","level":"ERROR","message":"Database error in LogbookService.getPlantPhotos","context":{"code":"CONNECTION_ERROR","details":{},"name":"DatabaseError"}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1005:24)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T11:58:04.896Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1006:16)
      at components/plant-photo-gallery.tsx:40:22

FAIL __tests__/integration/api/gardens.test.ts (82.432 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

Jest: "global" coverage threshold for statements (60%) not met: 20.9%
Jest: "global" coverage threshold for branches (60%) not met: 13.21%
Jest: "global" coverage threshold for lines (60%) not met: 20.76%
Jest: "global" coverage threshold for functions (60%) not met: 13.93%
Summary of all failing tests
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

FAIL __tests__/integration/api/gardens.test.ts (82.432 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)


Test Suites: 3 failed, 13 skipped, 74 passed, 77 of 90 total
Tests:       6 failed, 197 skipped, 973 passed, 1176 total
Snapshots:   0 total
Time:        87.359 s
Ran all test suites.

Attempt failed:
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

PASS __tests__/unit/components/ui/table.test.tsx
PASS __tests__/unit/components/ui/toast.test.tsx
PASS __tests__/unit/components/ui/tooltip.test.tsx
PASS __tests__/unit/components/ui/simple-pages.test.tsx
PASS __tests__/unit/components/ui/tabs.test.tsx
PASS __tests__/unit/components/ui/slider.test.tsx
PASS __tests__/unit/components/ui/select.test.tsx
PASS __tests__/unit/components/ui/popover.test.tsx
PASS __tests__/unit/components/ui/input.test.tsx
PASS __tests__/unit/components/ui/dialog.test.tsx
PASS __tests__/unit/components/ui/textarea.test.tsx
PASS __tests__/unit/app/simple-app.test.tsx
PASS __tests__/unit/components/ui/checkbox.test.tsx
PASS __tests__/components/ui/button.test.tsx
PASS __tests__/unit/components/navigation.test.tsx
PASS __tests__/unit/app/not-found.test.tsx
PASS __tests__/unit/components/ui/collapsible.test.tsx
PASS __tests__/unit/app/real-app-imports.test.tsx
PASS __tests__/unit/components/ui/scroll-area.test.tsx
PASS __tests__/unit/components/theme-provider.test.tsx
PASS __tests__/unit/components/ui/radio-group.test.tsx
PASS __tests__/unit/components/ui/resizable.test.tsx
PASS __tests__/unit/components/ui/hover-card.test.tsx
PASS __tests__/unit/components/ui/toggle-group.test.tsx
PASS __tests__/unit/components/loading-skeleton.test.tsx
PASS __tests__/unit/lib/dutch-flowers.test.ts
PASS __tests__/unit/lib/storage.test.ts
PASS __tests__/unit/components/language-switcher.test.tsx
PASS __tests__/unit/components/ui/card.test.tsx
PASS __tests__/unit/components/ui/label.test.tsx
PASS __tests__/unit/components/ui/accordion.test.tsx
PASS __tests__/unit/lib/design-tokens.test.ts
PASS __tests__/unit/components/ui/aspect-ratio.test.tsx
PASS __tests__/unit/components/ui/skeleton.test.tsx
PASS __tests__/unit/components/ui/use-mobile.test.tsx
PASS __tests__/unit/components/ui/switch.test.tsx
PASS __tests__/unit/app/real-app.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      The above error occurred in the <SupabaseAuthProvider> component:
      
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:13:40)
          at children (C:\Users\ameri\Tuinbeheer-systeem\hooks\use-language.ts:26:36)
          at X (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1591)
          at F (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1472)
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\theme-provider.tsx:9:33)
          at ErrorBoundary (C:\Users\ameri\Tuinbeheer-systeem\components\error-boundary.tsx:21:5)
          at body
          at html
          at children (C:\Users\ameri\Tuinbeheer-systeem\app\layout.tsx:27:3)
      
      React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at ErrorBoundary.callback (node_modules/react-dom/cjs/react-dom.development.js:18772:7)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23403:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

PASS __tests__/unit/components/ui/badge.test.tsx
PASS __tests__/unit/components/ui/loading.test.tsx
PASS __tests__/unit/components/ui/progress.test.tsx
PASS __tests__/unit/components/ui/simple-components.test.tsx
PASS __tests__/unit/components/ui/separator.test.tsx
PASS __tests__/unit/app/loading.test.tsx
PASS __tests__/unit/components/ui/alert.test.tsx
PASS __tests__/unit/components/ui/button.test.tsx
PASS __tests__/unit/components/ui/avatar.test.tsx
PASS __tests__/unit/lib/simple-lib.test.ts
PASS __tests__/unit/lib/full-translations.test.ts
PASS __tests__/unit/lib/validation/index.test.ts
PASS __tests__/unit/api/storage-ensure-bucket-simple.test.ts
PASS __tests__/unit/lib/banking-security.test.ts
  ‚óè Console

    console.error
      Security event logging failed: Database error

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at error (lib/banking-security.ts:36:15)
      at Object.<anonymous> (__tests__/unit/lib/banking-security.test.ts:46:7)

PASS __tests__/unit/lib/utils/task-sorting.test.ts
PASS __tests__/unit/lib/translations.test.ts
PASS __tests__/unit/components/ui/error.test.tsx
PASS __tests__/unit/lib/types/tasks.test.ts
PASS __tests__/unit/components/ui/toggle.test.tsx
PASS __tests__/unit/lib/services/simple-services.test.ts
PASS __tests__/unit/lib/security/garden-access.test.ts
PASS __tests__/unit/lib/password-change-manager.test.ts
PASS __tests__/unit/lib/errors.test.ts
PASS __tests__/unit/lib/types/index.test.ts
PASS __tests__/unit/api/status.test.ts
PASS __tests__/integration/api/plant-beds.test.ts
PASS __tests__/unit/lib/types.test.ts
PASS __tests__/integration/api/status.test.ts
PASS __tests__/unit/api/plant-beds-simple.test.ts
PASS __tests__/setup/supabase-mock.ts
PASS __tests__/unit/lib/utils.test.ts
PASS __tests__/unit/api/gardens-simple.test.ts
PASS __tests__/unit/lib/validation.test.ts
PASS __tests__/integration/api/version.test.ts
PASS __tests__/integration/api/health.test.ts
PASS __tests__/unit/components/real-components.test.tsx (5.746 s)
  ‚óè Console

    console.log
      {"timestamp":"2025-08-16T11:59:33.465Z","level":"DEBUG","message":"Database connection validated successfully","context":{"attempt":1}}

      at Logger.log (lib/logger.ts:74:17)

    console.info
      {"timestamp":"2025-08-16T11:59:33.507Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345573463","operationName":"logbook-getPlantPhotos","durationMs":44,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T11:59:33.507Z","level":"ERROR","message":"Unexpected error in LogbookService.getPlantPhotos","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1013:22)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T11:59:33.508Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1014:14)
      at components/plant-photo-gallery.tsx:40:22

PASS __tests__/unit/components/simple-components.test.tsx (5.798 s)
  ‚óè Console

    console.error
      {"timestamp":"2025-08-16T11:59:33.457Z","level":"ERROR","message":"Unable to connect to database","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:73:24)
      at Function.validateConnection [as getPlantPhotos] (lib/services/database.service.ts:918:13)
      at getPlantPhotos (components/plant-photo-gallery.tsx:40:43)
      at loadPlantPhotos (components/plant-photo-gallery.tsx:57:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/components/simple-components.test.tsx:48:11)

    console.info
      {"timestamp":"2025-08-16T11:59:33.507Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345573455","operationName":"logbook-getPlantPhotos","durationMs":52,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T11:59:33.508Z","level":"ERROR","message":"Database error in LogbookService.getPlantPhotos","context":{"code":"CONNECTION_ERROR","details":{},"name":"DatabaseError"}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1005:24)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T11:59:33.508Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1006:16)
      at components/plant-photo-gallery.tsx:40:22

FAIL __tests__/integration/api/gardens.test.ts (82.347 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

Jest: "global" coverage threshold for statements (60%) not met: 20.9%
Jest: "global" coverage threshold for branches (60%) not met: 13.21%
Jest: "global" coverage threshold for lines (60%) not met: 20.76%
Jest: "global" coverage threshold for functions (60%) not met: 13.93%
Summary of all failing tests
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

FAIL __tests__/integration/api/gardens.test.ts (82.347 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)


Test Suites: 3 failed, 13 skipped, 74 passed, 77 of 90 total
Tests:       6 failed, 197 skipped, 973 passed, 1176 total
Snapshots:   0 total
Time:        87.308 s
Ran all test suites.

Attempt failed:
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

PASS __tests__/unit/components/ui/table.test.tsx
PASS __tests__/unit/components/ui/tabs.test.tsx
PASS __tests__/unit/app/simple-app.test.tsx
PASS __tests__/unit/lib/storage.test.ts
PASS __tests__/unit/components/ui/tooltip.test.tsx
PASS __tests__/unit/components/ui/select.test.tsx
PASS __tests__/unit/components/ui/textarea.test.tsx
PASS __tests__/unit/components/ui/input.test.tsx
PASS __tests__/unit/components/ui/popover.test.tsx
PASS __tests__/unit/components/ui/checkbox.test.tsx
PASS __tests__/unit/components/ui/dialog.test.tsx
PASS __tests__/unit/components/ui/slider.test.tsx
PASS __tests__/unit/components/ui/simple-pages.test.tsx
PASS __tests__/unit/components/ui/radio-group.test.tsx
PASS __tests__/unit/components/navigation.test.tsx
PASS __tests__/unit/app/real-app-imports.test.tsx
PASS __tests__/unit/lib/dutch-flowers.test.ts
PASS __tests__/unit/components/ui/toast.test.tsx
PASS __tests__/unit/app/not-found.test.tsx
PASS __tests__/unit/components/ui/collapsible.test.tsx
PASS __tests__/unit/components/ui/badge.test.tsx
PASS __tests__/unit/app/loading.test.tsx
PASS __tests__/unit/components/ui/scroll-area.test.tsx
PASS __tests__/unit/components/ui/resizable.test.tsx
PASS __tests__/unit/components/ui/hover-card.test.tsx
PASS __tests__/unit/components/ui/label.test.tsx
PASS __tests__/components/ui/button.test.tsx
PASS __tests__/unit/app/real-app.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      The above error occurred in the <SupabaseAuthProvider> component:
      
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:13:40)
          at children (C:\Users\ameri\Tuinbeheer-systeem\hooks\use-language.ts:26:36)
          at X (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1591)
          at F (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1472)
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\theme-provider.tsx:9:33)
          at ErrorBoundary (C:\Users\ameri\Tuinbeheer-systeem\components\error-boundary.tsx:21:5)
          at body
          at html
          at children (C:\Users\ameri\Tuinbeheer-systeem\app\layout.tsx:27:3)
      
      React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at ErrorBoundary.callback (node_modules/react-dom/cjs/react-dom.development.js:18772:7)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23403:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

PASS __tests__/unit/components/loading-skeleton.test.tsx
PASS __tests__/unit/components/ui/progress.test.tsx
PASS __tests__/unit/components/ui/accordion.test.tsx
PASS __tests__/unit/components/ui/toggle-group.test.tsx
PASS __tests__/unit/lib/types/tasks.test.ts
PASS __tests__/unit/components/ui/card.test.tsx
PASS __tests__/unit/components/ui/button.test.tsx
PASS __tests__/unit/components/ui/simple-components.test.tsx
PASS __tests__/unit/components/language-switcher.test.tsx
PASS __tests__/unit/lib/password-change-manager.test.ts
PASS __tests__/unit/components/ui/aspect-ratio.test.tsx
PASS __tests__/unit/components/ui/toggle.test.tsx
PASS __tests__/unit/components/theme-provider.test.tsx
PASS __tests__/unit/lib/security/garden-access.test.ts
PASS __tests__/unit/components/ui/alert.test.tsx
PASS __tests__/unit/components/ui/skeleton.test.tsx
PASS __tests__/unit/lib/types/index.test.ts
PASS __tests__/unit/components/ui/separator.test.tsx
PASS __tests__/unit/components/ui/error.test.tsx
PASS __tests__/unit/components/ui/switch.test.tsx
PASS __tests__/unit/lib/translations.test.ts
PASS __tests__/unit/lib/full-translations.test.ts
PASS __tests__/unit/lib/banking-security.test.ts
  ‚óè Console

    console.error
      Security event logging failed: Database error

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at error (lib/banking-security.ts:36:15)
      at Object.<anonymous> (__tests__/unit/lib/banking-security.test.ts:46:7)

PASS __tests__/unit/components/ui/use-mobile.test.tsx
PASS __tests__/unit/lib/errors.test.ts
PASS __tests__/unit/components/ui/avatar.test.tsx
PASS __tests__/unit/lib/design-tokens.test.ts
PASS __tests__/unit/lib/utils/task-sorting.test.ts
PASS __tests__/unit/lib/validation/index.test.ts
PASS __tests__/unit/components/ui/loading.test.tsx
PASS __tests__/unit/lib/simple-lib.test.ts
PASS __tests__/unit/api/storage-ensure-bucket-simple.test.ts
PASS __tests__/unit/lib/types.test.ts
PASS __tests__/integration/api/status.test.ts
PASS __tests__/unit/lib/services/simple-services.test.ts
PASS __tests__/integration/api/plant-beds.test.ts
PASS __tests__/unit/api/status.test.ts
PASS __tests__/unit/components/real-components.test.tsx (5.588 s)
  ‚óè Console

    console.log
      {"timestamp":"2025-08-16T12:01:01.796Z","level":"DEBUG","message":"Database connection validated successfully","context":{"attempt":1}}

      at Logger.log (lib/logger.ts:74:17)

    console.info
      {"timestamp":"2025-08-16T12:01:01.861Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345661793","operationName":"logbook-getPlantPhotos","durationMs":67,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T12:01:01.862Z","level":"ERROR","message":"Unexpected error in LogbookService.getPlantPhotos","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1013:22)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T12:01:01.863Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1014:14)
      at components/plant-photo-gallery.tsx:40:22

PASS __tests__/setup/supabase-mock.ts
PASS __tests__/unit/api/plant-beds-simple.test.ts
PASS __tests__/integration/api/health.test.ts
PASS __tests__/unit/lib/utils.test.ts
PASS __tests__/unit/components/simple-components.test.tsx (5.684 s)
  ‚óè Console

    console.error
      {"timestamp":"2025-08-16T12:01:01.784Z","level":"ERROR","message":"Unable to connect to database","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:73:24)
      at Function.validateConnection [as getPlantPhotos] (lib/services/database.service.ts:918:13)
      at getPlantPhotos (components/plant-photo-gallery.tsx:40:43)
      at loadPlantPhotos (components/plant-photo-gallery.tsx:57:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/components/simple-components.test.tsx:48:11)

    console.info
      {"timestamp":"2025-08-16T12:01:01.866Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345661781","operationName":"logbook-getPlantPhotos","durationMs":84,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T12:01:01.867Z","level":"ERROR","message":"Database error in LogbookService.getPlantPhotos","context":{"code":"CONNECTION_ERROR","details":{},"name":"DatabaseError"}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1005:24)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T12:01:01.868Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1006:16)
      at components/plant-photo-gallery.tsx:40:22

PASS __tests__/integration/api/version.test.ts
PASS __tests__/unit/api/gardens-simple.test.ts
PASS __tests__/unit/lib/validation.test.ts
FAIL __tests__/integration/api/gardens.test.ts (82.292 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

Jest: "global" coverage threshold for statements (60%) not met: 20.9%
Jest: "global" coverage threshold for branches (60%) not met: 13.21%
Jest: "global" coverage threshold for lines (60%) not met: 20.76%
Jest: "global" coverage threshold for functions (60%) not met: 13.93%
Summary of all failing tests
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

FAIL __tests__/integration/api/gardens.test.ts (82.292 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)


Test Suites: 3 failed, 13 skipped, 74 passed, 77 of 90 total
Tests:       6 failed, 197 skipped, 973 passed, 1176 total
Snapshots:   0 total
Time:        87.157 s
Ran all test suites.

Attempt failed:
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

PASS __tests__/unit/components/ui/table.test.tsx
PASS __tests__/unit/components/ui/label.test.tsx
PASS __tests__/unit/components/ui/tooltip.test.tsx
PASS __tests__/unit/components/loading-skeleton.test.tsx
PASS __tests__/unit/components/ui/input.test.tsx
PASS __tests__/unit/app/simple-app.test.tsx
PASS __tests__/unit/components/ui/select.test.tsx
PASS __tests__/unit/components/ui/popover.test.tsx
PASS __tests__/unit/components/ui/checkbox.test.tsx
PASS __tests__/unit/components/ui/simple-pages.test.tsx
PASS __tests__/unit/components/ui/textarea.test.tsx
PASS __tests__/unit/components/ui/slider.test.tsx
PASS __tests__/unit/components/ui/dialog.test.tsx
PASS __tests__/unit/components/navigation.test.tsx
PASS __tests__/unit/components/ui/scroll-area.test.tsx
PASS __tests__/unit/components/ui/tabs.test.tsx
PASS __tests__/unit/app/not-found.test.tsx
PASS __tests__/components/ui/button.test.tsx
PASS __tests__/unit/components/ui/resizable.test.tsx
PASS __tests__/unit/components/ui/radio-group.test.tsx
PASS __tests__/unit/lib/dutch-flowers.test.ts
PASS __tests__/unit/app/loading.test.tsx
PASS __tests__/unit/components/ui/card.test.tsx
PASS __tests__/unit/lib/storage.test.ts
PASS __tests__/unit/components/ui/toast.test.tsx
PASS __tests__/unit/app/real-app-imports.test.tsx
PASS __tests__/unit/components/ui/hover-card.test.tsx
PASS __tests__/unit/components/theme-provider.test.tsx
PASS __tests__/unit/components/language-switcher.test.tsx
PASS __tests__/unit/components/ui/accordion.test.tsx
PASS __tests__/unit/components/ui/simple-components.test.tsx
PASS __tests__/unit/app/real-app.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      Error: Uncaught [TypeError: Cannot read properties of undefined (reading 'Provider')]
          at reportException (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
          at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
          at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5) {
        detail: TypeError: Cannot read properties of undefined (reading 'Provider')
            at Provider (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:53:26)
            at renderWithHooks (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\ameri\Tuinbeheer-systeem\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\ameri\Tuinbeheer-systeem\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:180:26)
            at render (C:\Users\ameri\Tuinbeheer-systeem\node_modules\@testing-library\react\dist\pure.js:271:10)
            at Object.<anonymous> (C:\Users\ameri\Tuinbeheer-systeem\__tests__\unit\app\real-app.test.tsx:134:13)
            at processTicksAndRejections (node:internal/process/task_queues:95:5),
        type: 'unhandled exception'
      }

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

    console.error
      The above error occurred in the <SupabaseAuthProvider> component:
      
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\auth\supabase-auth-provider.tsx:13:40)
          at children (C:\Users\ameri\Tuinbeheer-systeem\hooks\use-language.ts:26:36)
          at X (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1591)
          at F (C:\Users\ameri\Tuinbeheer-systeem\node_modules\next-themes\dist\index.js:1:1472)
          at children (C:\Users\ameri\Tuinbeheer-systeem\components\theme-provider.tsx:9:33)
          at ErrorBoundary (C:\Users\ameri\Tuinbeheer-systeem\components\error-boundary.tsx:21:5)
          at body
          at html
          at children (C:\Users\ameri\Tuinbeheer-systeem\app\layout.tsx:27:3)
      
      React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at ErrorBoundary.callback (node_modules/react-dom/cjs/react-dom.development.js:18772:7)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23403:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/app/real-app.test.tsx:134:13)

PASS __tests__/unit/components/ui/toggle.test.tsx
PASS __tests__/unit/lib/security/garden-access.test.ts
PASS __tests__/unit/components/ui/alert.test.tsx
PASS __tests__/unit/components/ui/collapsible.test.tsx
PASS __tests__/unit/components/ui/loading.test.tsx
PASS __tests__/unit/components/ui/switch.test.tsx
PASS __tests__/unit/components/ui/error.test.tsx
PASS __tests__/unit/components/ui/badge.test.tsx
PASS __tests__/unit/lib/validation/index.test.ts
PASS __tests__/unit/components/ui/separator.test.tsx
PASS __tests__/unit/components/ui/avatar.test.tsx
PASS __tests__/unit/lib/types/tasks.test.ts
PASS __tests__/unit/components/ui/button.test.tsx
PASS __tests__/unit/components/ui/progress.test.tsx
PASS __tests__/unit/components/ui/toggle-group.test.tsx
PASS __tests__/unit/lib/design-tokens.test.ts
PASS __tests__/unit/lib/simple-lib.test.ts
PASS __tests__/unit/lib/full-translations.test.ts
PASS __tests__/unit/components/ui/aspect-ratio.test.tsx
PASS __tests__/unit/lib/types.test.ts
PASS __tests__/unit/components/ui/use-mobile.test.tsx
PASS __tests__/unit/lib/banking-security.test.ts
  ‚óè Console

    console.error
      Security event logging failed: Database error

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at error (lib/banking-security.ts:36:15)
      at Object.<anonymous> (__tests__/unit/lib/banking-security.test.ts:46:7)

PASS __tests__/unit/components/ui/skeleton.test.tsx
PASS __tests__/integration/api/status.test.ts
PASS __tests__/unit/lib/types/index.test.ts
PASS __tests__/integration/api/plant-beds.test.ts
PASS __tests__/unit/lib/password-change-manager.test.ts
PASS __tests__/unit/api/gardens-simple.test.ts
PASS __tests__/unit/lib/translations.test.ts
PASS __tests__/unit/components/simple-components.test.tsx (5.504 s)
  ‚óè Console

    console.error
      {"timestamp":"2025-08-16T12:02:30.004Z","level":"ERROR","message":"Unable to connect to database","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:73:24)
      at Function.validateConnection [as getPlantPhotos] (lib/services/database.service.ts:918:13)
      at getPlantPhotos (components/plant-photo-gallery.tsx:40:43)
      at loadPlantPhotos (components/plant-photo-gallery.tsx:57:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (__tests__/unit/components/simple-components.test.tsx:48:11)

    console.info
      {"timestamp":"2025-08-16T12:02:30.082Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345750002","operationName":"logbook-getPlantPhotos","durationMs":80,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T12:02:30.083Z","level":"ERROR","message":"Database error in LogbookService.getPlantPhotos","context":{"code":"CONNECTION_ERROR","details":{},"name":"DatabaseError"}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1005:24)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T12:02:30.084Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1006:16)
      at components/plant-photo-gallery.tsx:40:22

PASS __tests__/unit/lib/errors.test.ts
PASS __tests__/unit/lib/services/simple-services.test.ts
PASS __tests__/unit/lib/utils/task-sorting.test.ts
PASS __tests__/unit/components/real-components.test.tsx (5.656 s)
  ‚óè Console

    console.log
      {"timestamp":"2025-08-16T12:02:30.195Z","level":"DEBUG","message":"Database connection validated successfully","context":{"attempt":1}}

      at Logger.log (lib/logger.ts:74:17)

    console.info
      {"timestamp":"2025-08-16T12:02:30.288Z","level":"INFO","message":"Performance: logbook-getPlantPhotos completed","context":{"operationId":"logbook-getPlantPhotos-1755345750181","operationName":"logbook-getPlantPhotos","durationMs":107,"category":"PERFORMANCE","error":true}}

      at Function.info [as endTimer] (lib/logger.ts:156:15)

    console.error
      {"timestamp":"2025-08-16T12:02:30.289Z","level":"ERROR","message":"Unexpected error in LogbookService.getPlantPhotos","context":{}}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at Function.error [as getPlantPhotos] (lib/services/database.service.ts:1013:22)
      at components/plant-photo-gallery.tsx:40:22

    console.error
      {"timestamp":"2025-08-16T12:02:30.291Z","level":"ERROR","message":"Operation failed: fetch plant photos"}

    [0m [90m 94 |[39m     [36mreturn[39m
     [90m 95 |[39m   }
    [31m[1m>[22m[39m[90m 96 |[39m   originalConsoleError[33m.[39mcall(console[33m,[39m [33m...[39margs)
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 97 |[39m }[0m

      at console.call [as error] (jest.setup.js:96:24)
      at Logger.error [as log] (lib/logger.ts:65:17)
      at Logger.log [as error] (lib/logger.ts:82:10)
      at error (lib/services/database.service.ts:95:22)
      at Function.createResponse (lib/services/database.service.ts:1014:14)
      at components/plant-photo-gallery.tsx:40:22

PASS __tests__/setup/supabase-mock.ts
PASS __tests__/integration/api/health.test.ts
PASS __tests__/unit/lib/validation.test.ts
PASS __tests__/unit/api/storage-ensure-bucket-simple.test.ts
PASS __tests__/unit/lib/utils.test.ts
PASS __tests__/integration/api/version.test.ts
PASS __tests__/unit/api/plant-beds-simple.test.ts
PASS __tests__/unit/api/status.test.ts
FAIL __tests__/integration/api/gardens.test.ts (82.394 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

Jest: "global" coverage threshold for statements (60%) not met: 20.9%
Jest: "global" coverage threshold for branches (60%) not met: 13.21%
Jest: "global" coverage threshold for lines (60%) not met: 20.76%
Jest: "global" coverage threshold for functions (60%) not met: 13.93%
Summary of all failing tests
FAIL __tests__/unit/api/health.test.ts
  ‚óè /api/health ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 48 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 51 |[39m     })[33m;[39m
     [90m 52 |[39m
     [90m 53 |[39m     it([32m'should return valid timestamp'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/health.test.ts:50:32)

FAIL __tests__/unit/api/version.test.ts
  ‚óè /api/version ‚Ä∫ GET ‚Ä∫ should handle missing NODE_ENV

    expect(received).toBe(expected) // Object.is equality

    Expected: "development"
    Received: "test"

    [0m [90m 53 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
     [90m 54 |[39m
    [31m[1m>[22m[39m[90m 55 |[39m       expect(data[33m.[39menvironment)[33m.[39mtoBe([32m'development'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 56 |[39m     })[33m;[39m
     [90m 57 |[39m
     [90m 58 |[39m     it([32m'should return static version and timestamp values'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toBe (__tests__/unit/api/version.test.ts:55:32)

FAIL __tests__/integration/api/gardens.test.ts (82.394 s)
  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should return all gardens

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 59 |[39m
     [90m 60 |[39m   describe([32m'GET /api/gardens'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m     it([32m'should return all gardens'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 62 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess(mockGardensArray)
     [90m 63 |[39m
     [90m 64 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:61:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ GET /api/gardens ‚Ä∫ should handle database errors

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 71 |[39m     })
     [90m 72 |[39m
    [31m[1m>[22m[39m[90m 73 |[39m     it([32m'should handle database errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 74 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 75 |[39m
     [90m 76 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m)[0m

      at it (__tests__/integration/api/gardens.test.ts:73:5)
      at describe (__tests__/integration/api/gardens.test.ts:60:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should create new garden successfully

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  99 |[39m     }
     [90m 100 |[39m
    [31m[1m>[22m[39m[90m 101 |[39m     it([32m'should create new garden successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 102 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockSuccess([{ [33m...[39mnewGarden[33m,[39m id[33m:[39m [32m'new-id'[39m }])
     [90m 103 |[39m
     [90m 104 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:101:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)

  ‚óè Gardens API ‚Ä∫ POST /api/gardens ‚Ä∫ should handle database errors during creation

    thrown: "Exceeded timeout of 20000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 129 |[39m     })
     [90m 130 |[39m
    [31m[1m>[22m[39m[90m 131 |[39m     it([32m'should handle database errors during creation'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m       mockSupabase[33m.[39mmockQueryBuilder[33m.[39mmockError({ message[33m:[39m [32m'Database error'[39m })
     [90m 133 |[39m
     [90m 134 |[39m       [36mconst[39m request [33m=[39m createMockNextRequest([32m'http://localhost:3000/api/gardens'[39m[33m,[39m {[0m

      at it (__tests__/integration/api/gardens.test.ts:131:5)
      at describe (__tests__/integration/api/gardens.test.ts:86:3)
      at Object.describe (__tests__/integration/api/gardens.test.ts:52:1)


Test Suites: 3 failed, 13 skipped, 74 passed, 77 of 90 total
Tests:       6 failed, 197 skipped, 973 passed, 1176 total
Snapshots:   0 total
Time:        87.445 s
Ran all test suites.

Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


Attempt failed:

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  components/ui/button.test.tsx [ components/ui/button.test.tsx ]
Error: Failed to resolve import "@/lib/utils" from "components/ui/button.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /workspace/components/ui/button.tsx:5:19
  2  |  import { Slot } from "@radix-ui/react-slot";
  3  |  import { cva } from "class-variance-authority";
  4  |  import { cn } from "@/lib/utils";
     |                      ^
  5  |  const buttonVariants = cva(
  6  |    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 touch-manipulation",
 ‚ùØ TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31553:43
 ‚ùØ TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31550:14
 ‚ùØ normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30022:18
 ‚ùØ node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30080:32
 ‚ùØ TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:30048:4
 ‚ùØ EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:31351:14
 ‚ùØ loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/dep-CMEinpL-.js:26438:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


